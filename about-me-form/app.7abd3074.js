(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/YTo":function(e){e.exports="data:image/svg+xml,%3Csvg width='148' height='112' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M131.165.875H16.835C7.85.875.5 8.225.5 17.21v77.595c0 8.985 7.35 16.335 16.335 16.335h114.33c8.985 0 16.335-7.35 16.335-16.335V17.21c0-8.985-7.35-16.335-16.335-16.335zm10.215 92.22c0 8.235-3.675 11.91-11.91 11.91H18.545c-8.235 0-11.91-3.675-11.91-11.91v-74.19c0-8.235 3.675-11.91 11.91-11.91H129.47c8.235 0 11.91 3.675 11.91 11.91v74.19zm-94.935-49.35L61.745 56l39.81-33.69 30.63 27.57v45.945H15.815v-27.57l30.63-24.51zM28.07 16.19c-6.765 0-12.255 5.49-12.255 12.255 0 6.765 5.49 12.255 12.255 12.255 6.765 0 12.255-5.49 12.255-12.255 0-6.765-5.49-12.255-12.255-12.255z' fill='%23B1B1B1' fill-rule='nonzero'/%3E%3C/svg%3E"},"2YZa":function(e,t,a){"use strict";a.r(t),a("Gz3v");var y=a("q1tI"),w=a.n(y),n=a("i8i4"),r=a("XzT5"),E=a("9kay"),l=a("Fugr"),o=a("q+gx"),i=a("2m3b");function c(){var t=Object(E.b)().i18n,e=Object(y.useCallback)(function(){var e="ru"===t.language?"en":"ru";t.changeLanguage(e)},[]);return w.a.createElement("div",{className:"locale-switch"},w.a.createElement("input",{tabIndex:0,id:"locale-switch-id",type:"checkbox",className:"locale-switch__checkbox",checked:"en"===t.language,onChange:e}),w.a.createElement("label",{htmlFor:"locale-switch-id",className:"locale-switch__label"},w.a.createElement("div",{className:"locale-switch__locales"},w.a.createElement("div",{className:"locale-switch__locale"},"en"),w.a.createElement("div",{className:"locale-switch__locale"},"ru"))))}function s(){var e=Object(E.b)().t;return w.a.createElement("header",{className:"header"},w.a.createElement("h1",{className:"header__title "},e("aboutMe")),w.a.createElement("div",{className:"header__locale-switch"},w.a.createElement(c,null)))}function m(e){var t=e.label,a=f(e,["label"]),n=Object(E.b)().t,r=Object(b.c)(a),l=r[0],o=r[1],i=o.touched&&o.error?o.error:"",c=""!==i?"text-field text-field_error":"text-field";return w.a.createElement("div",{className:c},w.a.createElement("label",{className:"text-field__label",htmlFor:t},n(t)),w.a.createElement("input",u({className:"text-field__input",type:"text",id:t,placeholder:n(t)},l)),w.a.createElement("div",{className:"text-field__error"},n(i)))}function d(e){var a=e.setFormAvatar,t=e.isSubmitting,n=Object(y.useState)(!1),r=n[0],l=n[1],o=Object(y.useState)(null),i=o[0],c=o[1],s=Object(y.useState)(null),u=s[0],f=s[1],m=Object(E.b)().t,d=Object(y.useCallback)(function(e){var t=new FileReader;t.onload=function(e){f(e.target.result)},t.readAsDataURL(e),a(e)},[]),b=Object(y.useCallback)(function(e){var t;e.preventDefault(),e.stopPropagation(),l(!1);var a=null===(t=null==e?void 0:e.dataTransfer)||void 0===t?void 0:t.files[0];if(null===a||!a.type.startsWith("image/"))return f(null),void c("wrongFileType");c(null),d(a)},[]),p=Object(y.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),l(!1)},[]),v=Object(y.useCallback)(function(e){return e.preventDefault(),e.stopPropagation(),!1},[]),h=Object(y.useCallback)(function(e){var t,a=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.files[0];if(null===a||!a.type.startsWith("image/"))return f(null),void c("wrongFileType");c(null),d(a)},[]),g=Object(y.useCallback)(function(){f(null),a(null)},[]);return Object(y.useEffect)(function(){function e(e){return e.preventDefault(),e.stopPropagation(),l(!0),!1}return document.addEventListener("dragenter",e,!1),function(){document.removeEventListener("dragenter",e)}},[]),w.a.createElement(y.Fragment,null,w.a.createElement("div",{className:r?"drag-zone drag-zone_enter":"drag-zone",onDragLeave:p,onDragOver:v,onDrop:b},w.a.createElement("div",{className:"drag-zone__icon"})),w.a.createElement("div",{className:"avatar-selector"},w.a.createElement("figure",{className:"avatar-selector__preview"},null!==u?w.a.createElement("div",{className:"avatar-selector__image"},w.a.createElement("button",{className:"avatar-selector__image-remove",onClick:g,disabled:t},"remove"),w.a.createElement("img",{src:u,alt:"image preview"})):w.a.createElement("div",{className:"avatar-selector__image"},w.a.createElement("img",{className:"avatar-selector__palceholder-img",src:N.a,alt:"image placeholder"}),w.a.createElement("p",{className:"avatar-selector__placeholder-message"},m("dragImage")))),w.a.createElement("input",{id:"avatar",className:"avatar-selector__input",type:"file",name:"avatar",onChange:h,disabled:t}),w.a.createElement("label",{className:"avatar-selector__label",htmlFor:"avatar"},m("selectFile")),null!==i&&w.a.createElement("div",{className:"avatar-selector__error"},"! ",m("wrongFileType"))))}r.a.use(l.a).use(E.a).init({resources:{ru:{translation:i},en:{translation:o}},fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}}),r.a;var b=a("KYPV"),u=(a("k0My"),a("Zdut"),a("3+zT"),a("w6XT"),function(){return(u=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!~t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)!~t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},p=(a("IBlV"),a("/YTo")),N=a.n(p),v=(h.prototype.sendForm=function(m){return e=this,c=function(){var e,t,a,n,r,l,o,i,c,s,u;return r=this,l=function(){for(e=new FormData,t=0,a=Object.keys(m);t<a.length;t++)n=a[t],e.append(n,m[n]);return console.log(m),[2,new Promise(function(e){return setTimeout(e,1e3)})]},u={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},s={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function f(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(c=2&t[0]?i.return:t[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,t[1])).done)return c;switch(i=0,c&&(t=[2&t[0],c.value]),t[0]){case 0:case 1:c=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(c=0<(c=u.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){u.label=t[1];break}if(6===t[0]&&u.label<c[1]){u.label=c[1],c=t;break}if(c&&u.label<c[2]){u.label=c[2],u.ops.push(t);break}c[2]&&u.ops.pop(),u.trys.pop();continue}t=l.call(r,u)}catch(e){t=[6,e],i=0}finally{o=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},new(i=(i=o=void 0)||Promise)(function(a,t){function n(e){try{l(c.next(e))}catch(e){t(e)}}function r(e){try{l(c.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(n,r)}l((c=c.apply(e,o||[])).next())});var e,o,i,c},h);function h(){}function g(){var n=Object(E.b)().t,e=Object(y.useState)(null),u=e[0],r=e[1],t=Object(y.useContext)(O),a=t.validatorService,f=t.apiService,l=Object(y.useCallback)(function(c){return s=function(){return a=this,n=function(e){switch(e.label){case 0:return[4,f.sendForm(j({formAvatar:u},c))];case 1:return e.sent(),[2]}},i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,l&&(o=2&t[0]?l.return:t[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,t[1])).done)return o;switch(l=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,l=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){i.label=t[1];break}if(6===t[0]&&i.label<o[1]){i.label=o[1],o=t;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(t);break}o[2]&&i.ops.pop(),i.trys.pop();continue}t=n.call(a,i)}catch(e){t=[6,e],l=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}var a,n,r,l,o,t,i},new(i=(i=o=e=void 0)||Promise)(function(a,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(n,r)}l((s=s.apply(e,o||[])).next())});var e,o,i,s},[u]);return w.a.createElement("main",{className:"main"},w.a.createElement(s,null),w.a.createElement("section",null,w.a.createElement(b.b,{initialValues:S,onSubmit:l,validate:a},function(e){var t=e.isSubmitting,a=e.isValid;return w.a.createElement(b.a,{className:"form"},w.a.createElement("div",{className:"avatar-selector-container"},w.a.createElement(d,{setFormAvatar:r,isSubmitting:t})),w.a.createElement(m,{type:"text",name:"firstName",label:"firstName"}),w.a.createElement(m,{type:"text",name:"lastName",label:"lastName"}),w.a.createElement("div",{className:"form-submit"},w.a.createElement("button",{disabled:t||!a,className:"form-submit__button",type:"submit"},n("send"))))})))}var _=/^[a-zA-Zа-яА-Я\-]+$/,x={apiService:new v,validatorService:function(f){return c=function(){var e,t,a,n,r,l,o,i,c,s;return n=this,r=function(){return e={},t=f.firstName.trim(),a=f.lastName.trim(),_.test(t)||(e.firstName="fieldShouldHasLetters"),50<t.length&&(e.firstName="fieldMax50"),t||(e.firstName="fieldIsRequired"),_.test(a)||(e.lastName="fieldShouldHasLetters"),50<a.length&&(e.lastName="fieldMax50"),a||(e.lastName="fieldIsRequired"),[2,e]},s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},c={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(t){return function(e){return function(t){if(l)throw new TypeError("Generator is already executing.");for(;s;)try{if(l=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(i=0<(i=s.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){s.label=t[1];break}if(6===t[0]&&s.label<i[1]){s.label=i[1],i=t;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(t);break}i[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{l=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=o=e=void 0,new(i=Promise)(function(a,t){function n(e){try{l(c.next(e))}catch(e){t(e)}}function r(e){try{l(c.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(n,r)}l((c=c.apply(e,o||[])).next())});var e,o,i,c}},O=w.a.createContext(null),k=x,j=function(){return(j=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},S={firstName:"",lastName:""};Object(n.render)(w.a.createElement(function(){return w.a.createElement(w.a.StrictMode,null,w.a.createElement(O.Provider,{value:k},w.a.createElement(g,null)))},null),document.getElementById("root")),e.hot.accept()},"2m3b":function(e){e.exports=JSON.parse('{"aboutMe":"Обо Мне","firstName":"Имя","lastName":"Фамилия","birthday":"День рождения","hobbies":"Мои увлечения","send":"Послать","wrongFileType":"Этот файл не картинка","selectFile":"Выберите изображение","dragImage":"претащите изображение","fieldIsRequired":"Это поле обязательно для заполнения","fieldShouldHasLetters":"Разрешены только буквы","fieldMax50":"Максимум 50 букв"}')},"3+zT":function(){},Gz3v:function(){},IBlV:function(){},Zdut:function(){},k0My:function(){},"q+gx":function(e){e.exports=JSON.parse('{"aboutMe":"About Me","firstName":"First name","lastName":"Last name","birthday":"Birthday","hobbies":"My hobbies","send":"send","wrongFileType":"This file is not image","selectFile":"Select image","dragImage":"drag image","fieldIsRequired":"This field is required","fieldShouldHasLetters":"In name allowed only letters","fieldMax50":"Maximum 50 simbols"}')},w6XT:function(){}},[["2YZa",1,2]]]);